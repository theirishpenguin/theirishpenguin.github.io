<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Deploying your Qt on Rails apps on the N900 (Maemo)</title>
  <meta name="description" content="Qt on Rails is a framework to let you turn your Rails sites in desktop applications and harness the power of Ruby! It’s not at production level yet but it’s ...">

  <link rel="canonical" href="http://www.theirishpenguin.com/2010/06/21/deploying-your-qt-on-rails-apps-on-the-n900-maemo.html">
  <link rel="alternate" type="application/rss+xml" title="The Irish Penguin" href="http://www.theirishpenguin.com/feed.xml" />

  <!-- Material Design Lite css Library -->
  <!--<link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.indigo-pink.min.css">-->
  <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.brown-pink.min.css" />
  
  <!-- Material Design Fonts -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <!-- Custom theme css -->
  <link rel="stylesheet" href="/css/main.css">

  <!-- Twitter cards -->
  <meta name="twitter:site"    content="@theirishpenguin">
  <meta name="twitter:creator" content="@theirishpenguin">
  <meta name="twitter:title"   content="Deploying your Qt on Rails apps on the N900 (Maemo)">

  
  <meta name="twitter:description" content="Qt on Rails is a framework to let you turn your Rails sites in desktop applications and harness the power of Ruby! It’s not at production level yet but it’s certa...">
  

  
  <meta name="twitter:card"  content="summary">
  <meta name="twitter:image" content="http://www.theirishpenguin.com/images/coffee_avatar.jpg">
  
  <!-- end of Twitter cards -->
</head>


  <body>

    <!-- Start Layout -->
    
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <!-- search layout -->
<div class="super-search" id="js-search">
  <ul class="super-search__results" id="js-search__results"></ul>        
  <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored super-search__close-btn" onclick="superSearch.toggle()">
    <i class="material-icons">close</i>
  </button>
</div>
<!-- /end search -->
        <header class="mdl-layout__header">

    <div class="mdl-layout__header-row">
      <!-- Title -->
      <span class="mdl-layout-title"><a class="penguin-site-title-link" href="http://www.theirishpenguin.com">The Irish Penguin <span class="mdl-cell--hide-phone"> - Sorry About The Word Count</span></a></span>
      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>
      

      <!-- Penguin: Disabling for now -->
      <!--
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable is-upgraded">
        <label class="mdl-button mdl-js-button mdl-button--icon" for="js-search__input">
          <i class="material-icons">search</i>
        </label>

        <div class="mdl-textfield__expandable-holder" >
          <input class="mdl-textfield__input super-search__input" type="text" id="js-search__input" />
        </div>
      </div>
      -->
      <!-- End of Penguin: Disabling for now -->

      <button class="mdl-button mdl-js-button mdl-button--icon" id="menu-lower-left">
        <i class="material-icons">more_vert</i>
      </button>

      <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="menu-lower-left">
        
        <li><a href="https://twitter.com/theirishpenguin" class="mdl-menu__item">Twitter</a></li>
        
        <li><a href="https://github.com/theirishpenguin" class="mdl-menu__item">Github</a></li>
        
        <li><a href="http://www.rubyireland.com" class="mdl-menu__item">Ruby Ireland</a></li>
        
        <li><a href="/feed.xml" class="mdl-menu__item">Subscribe via RSS</a></li>
        
        <li><a href="/about.html" class="mdl-menu__item">About</a></li>
        
      </ul>
    </div>
  </header>

  <!--
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">Menu</span>
    <nav class="mdl-navigation">
    
      
      <a class="mdl-navigation__link" href="/about.html">About</a>
      
    
      
    
      
    
      
    
    </nav>

  </div>
  -->


    

    <div class="post-ribbon"></div>
<main class="post-main mdl-layout__content">
  <div class="post-container mdl-grid">
    <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
    <div class="post-section mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
      <div class="mdl-color-text--grey-500">
      Jun 21, 2010 •  
      </div>
      <h3>Deploying your Qt on Rails apps on the N900 (Maemo)</h3>
      <article class="post-content">
        <p><p>Qt on Rails is a framework to let you turn your Rails sites in desktop applications and harness the power of Ruby! It’s not at production level yet but it’s certainly possible to have a good play with it and a bit of a hack! If you’re not familiar with Qt on Rails then a good place to start is <a href="http://www.theirishpenguin.com/2010/06/21/qt-on-rails-v0-1-released-but-is-this-ruby-based-qt-and-kde-app-framework-doomed/">this blog post</a> covering the v0.1 release. Also, check out the <a href="http://github.com/theirishpenguin/qtonrails">github repo</a> for more info on installing Qt on Rails on your desktop and building an application with it.  Here we show you how to deploy Qt on Rails based apps on your N900. One of the goals of Qt on Rails is to provide an easy way for you to develop apps faster for Maemo and, down the road, hopefully MeeGo too!</p>

<p>Note: This blog post may help you figure out how to install any QtRuby application on the N900, not just Qt on Rails apps. Also, this  <a href="http://wiki.maemo.org/QtRuby">QtRuby Maemo wiki article</a> was particularly useful when I was stumbling along this path!</p>

<p>One thing you will need to install as part of this guide is <a href="http://wiki.maemo.org/Easy_Debian">Easy Debian</a>. Easy Debian greatly expands what you can do with your Maemo device. It basically sticks a full-featured version of Debian on your device. This means 2 things - firstly, for the uber-geeks out there it let’s you fire up a Linux desktop on the N900; though it’s important to note that your normal Maemo desktop isn’t affected by Easy Debian. Secondly, having a full-on Debian available let’s you run Linux apps such as Open Office! Sweet! And what rocks is that you can even run these programs without invoking the Easy Debian Linux desktop - in a seamless manner. It’s important to note that the user interface to these Easy Debian-based apps behave a differently to a typical native Maemo program; rather they work like a traditional desktop application with a mouse pointer on screen.</p>

<h3 id="install-steps">Install Steps</h3>

<ul>
  <li>
    <p>Note: For simplicity, this guide assumes you are installing an application which stores data using sqlite3. Also, the steps here have been tested against the N900 firmware update PR1.2. If you are using an older version of the firmware you may want to consider updating it.</p>
  </li>
  <li>
    <p>Firstly, install Easy Debian with the N900’s Application Manager</p>
  </li>
  <li>
    <p>Install the Easy Debian image via the new Deb Img Install application added to your list of applications</p>

    <ul>
      <li>
        <p>Note: This is a 1 gig download, but comes with cool stuff like OpenOffice and intergrates pretty seamlessly with your desktop</p>
      </li>
      <li>
        <p>Takes an hour or so to download and then extract itself</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Open the Debian Chroot terminal (not the usual N900 terminal), which should now be in your list of applications</p>
  </li>
  <li>
    <p>Install rubygems, qtruby and  sqlite3 with ruby bindings</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>sudo apt-get install rubygems
sudo apt-get install libqt4-ruby
apt-get install libsqlite3-ruby
</code></pre>
    </div>
  </li>
  <li>
    <p>Install the bits we need need from Rails (without installing documentation)</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>sudo gem install activerecord activesupport activeresource --no-ri --no-rdoc
</code></pre>
    </div>
  </li>
  <li>
    <p>Zip up your Qt on Rails application and copy to any directory on to the N900. Note that the Qt on Rails application consists of the entire Rails directory directory including the vendor/plugins/qtonrails directory intact and  a sqlite3 database already created under the db directory).</p>
  </li>
</ul>

<p>If you don’t have your own Qt on Rails application to hand then you can create the RadRadio app discussed in the “Make it so, Jim!” section of the <a href="http://www.theirishpenguin.com/2010/06/21/qt-on-rails-v0-1-released-but-is-this-ruby-based-qt-and-kde-app-framework-doomed/">v0.1 release blog post</a></p>

<p>In the Qt on Rails v0.1 release there is a bug that accidentally introduces a dependency on a korundum library, which is not needed in this case. <a href="http://github.com/theirishpenguin/qtonrails/issues#issue/2">An issue is logged</a> against this in the <a href="http://github.com/theirishpenguin/qtonrails/issues">Qt on Rails Issue Tracker</a> As a workaround, find and remove any occurrences of <code class="highlighter-rouge">require 'korundum4'</code> in files under the <code class="highlighter-rouge">vendor/plugins/qtonrails/app</code> directory</p>

<ul>
  <li>
    <p>Once transferred, simply unzip it on your device. Note: If you saved the zip to the Documents folder on your N900, this can be found under /home/user/MyDocs/.documents when poking around the filesystem</p>
  </li>
  <li>
    <p>Finally, via the good ol’ Debian Chroot terminal, change directory to the vendor/plugins/qtonrails directory of your app and execute</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>ruby1.8 run
</code></pre>
    </div>
  </li>
  <li>
    <p>Boom! You should see your Qt on Rails app in all it’s glory!</p>
  </li>
</ul>

<p>Note there is a <a href="http://github.com/theirishpenguin/qtonrails/issues#issue/6">bug</a> where you cannot input into a text field when running a Qt on Rails app on the N900 using above technique (seamless mode). As a workaround, open the Qt on Rails app inside of the Debian LXDE desktop (rather than in seamless mode). You can find Debian LXDE in the list of applications on your device. Inside Debian LXDE, open a terminal and run the application as above. Just a quick heads up, sticky keys don’t work like you’d expect - you have to <a href="http://wiki.maemo.org/Easy_Debian#sticky_keys_hack">hold down the Shift and Fn keys</a> to use them.</p>
</p>
      </article>
      <!-- Disqus comments -->
      
      <div>
        <h3>Comments</h3>
        <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'theirishpenguin';
        var disqus_developer = 0; // developer mode is on
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>

      </div>
      
    </div>
  </div>
</main>

    <footer class="mdl-mega-footer">
  <div class="mdl-mega-footer--middle-section">

    <div class="mdl-mega-footer--drop-down-section">
      <input class="mdl-mega-footer--heading-checkbox" type="checkbox" checked>
      <h1 class="mdl-mega-footer--heading">INFO</h1>
      <ul class="mdl-mega-footer--link-list">
        <li><a href="mailto:"></a></li>
        <li><a href="/feed.xml">subscribe via RSS</a></li>
      </ul>
    </div>

    <div class="mdl-mega-footer--drop-down-section">
      <input class="mdl-mega-footer--heading-checkbox" type="checkbox" checked>
      <h1 class="mdl-mega-footer--heading">SOCIAL</h1>
      <ul class="mdl-mega-footer--link-list">
        
        <li>
          <a href="https://github.com/theirishpenguin">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">theirishpenguin</span>
          </a>
        </li>
        
        
        <li>
          <a href="https://twitter.com/theirishpenguin">
            <span class="icon  icon--twitter">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
              </svg>
            </span>

            <span class="username">theirishpenguin</span>
          </a>
        </li>
      
	  
      
	  
	  
      </ul>
    </div>

    <div class="mdl-mega-footer--drop-down-section">
      <input class="mdl-mega-footer--heading-checkbox" type="checkbox" checked>
      <h1 class="mdl-mega-footer--heading">ABOUT</h1>
      <ul class="mdl-mega-footer--link-list">
        <li>Ruby/JS dev. One eye on design. Occasionally stops writing code and starts writing words when the Internet is down. Thoughts and opinions expressed here are my own.
</li>
      </ul>
    </div>


  </div>

  <div class="mdl-mega-footer--bottom-section">
  <!-- Penguin: Disabling for now
    <div class="mdl-logo">The Irish Penguin</div>
    -->
    <ul class="mdl-mega-footer--link-list">
    <li>&copy; 2019 theirishpenguin All Rights Reserved</li>
  <!-- Penguin: Disabling for now
      <li><a href="#">Help</a></li>
      <li><a href="#">Privacy & Terms</a></li>
    -->
    </ul>
  </div>

</footer>


    </div>
    <!-- /End Layout -->

    <!-- Material Design Lite js Library -->
    <script type="text/javascript" src="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.min.js"></script>
    
    <script rel="javascript" type="text/javascript" src="/js/search.js"></script>
    <script rel="javascript" type="text/javascript">
      superSearch({
        searchFile: '/feed.xml',
        searchSelector: '#js-search', // CSS Selector for search container element.
        inputSelector: '#js-search__input', // CSS selector for <input>
        resultsSelector: '#js-search__results' // CSS selector for results container
      });
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-34423825-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

        gtag('config', 'UA-34423825-1');
</script>


  </body>

</html>
