<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Installing the Netgear WG511v2 (China) Wireless Card on Linux</title>
  <meta name="description" content="These instructions are intended to be used to install a Netgear WG511 v2 (China) on a Linux machine that dual boots with Windows. I take no responsibility fo...">

  <link rel="canonical" href="http://www.theirishpenguin.com/2007/05/12/installing-the-netgear-wg511v2-china-wireless-card-on-linux.html">
  <link rel="alternate" type="application/rss+xml" title="The Irish Penguin" href="http://www.theirishpenguin.com/feed.xml" />

  <!-- Material Design Lite css Library -->
  <!--<link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.indigo-pink.min.css">-->
  <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.brown-pink.min.css" />
  
  <!-- Material Design Fonts -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <!-- Custom theme css -->
  <link rel="stylesheet" href="/css/main.css">

  <!-- Twitter cards -->
  <meta name="twitter:site"    content="@theirishpenguin">
  <meta name="twitter:creator" content="@">
  <meta name="twitter:title"   content="Installing the Netgear WG511v2 (China) Wireless Card on Linux">

  
  <meta name="twitter:description" content="Ruby/JS dev. One eye on design. Occasionally stops writing code and starts writing words when the Internet is down. Thoughts and opinions expressed here are my own.
">
  

  
  <meta name="twitter:card"  content="summary">
  <meta name="twitter:image" content="http://www.theirishpenguin.com/images/coffee_avatar.jpg">
  
  <!-- end of Twitter cards -->
</head>


  <body>

    <!-- Start Layout -->
    
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <!-- search layout -->
<div class="super-search" id="js-search">
  <ul class="super-search__results" id="js-search__results"></ul>        
  <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--colored super-search__close-btn" onclick="superSearch.toggle()">
    <i class="material-icons">close</i>
  </button>
</div>
<!-- /end search -->
        <header class="mdl-layout__header">

    <div class="mdl-layout__header-row">
      <!-- Title -->
      <span class="mdl-layout-title"><a class="penguin-site-title-link" href="http://www.theirishpenguin.com">The Irish Penguin <span class="mdl-cell--hide-phone"> - Sorry About The Word Count</span></a></span>
      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>
      

      <!-- Penguin: Disabling for now -->
      <!--
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable is-upgraded">
        <label class="mdl-button mdl-js-button mdl-button--icon" for="js-search__input">
          <i class="material-icons">search</i>
        </label>

        <div class="mdl-textfield__expandable-holder" >
          <input class="mdl-textfield__input super-search__input" type="text" id="js-search__input" />
        </div>
      </div>
      -->
      <!-- End of Penguin: Disabling for now -->

      <button class="mdl-button mdl-js-button mdl-button--icon" id="menu-lower-left">
        <i class="material-icons">more_vert</i>
      </button>

      <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="menu-lower-left">
        
        <li><a href="https://twitter.com/theirishpenguin" class="mdl-menu__item">Twitter</a></li>
        
        <li><a href="https://github.com/theirishpenguin" class="mdl-menu__item">Github</a></li>
        
        <li><a href="http://www.rubyireland.com" class="mdl-menu__item">Ruby Ireland</a></li>
        
        <li><a href="/feed.xml" class="mdl-menu__item">Subscribe via RSS</a></li>
        
        <li><a href="/about.html" class="mdl-menu__item">About</a></li>
        
      </ul>
    </div>
  </header>

  <!--
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">Menu</span>
    <nav class="mdl-navigation">
    
      
      <a class="mdl-navigation__link" href="/about.html">About</a>
      
    
      
    
      
    
      
    
    </nav>

  </div>
  -->


    

    <div class="post-ribbon"></div>
<main class="post-main mdl-layout__content">
  <div class="post-container mdl-grid">
    <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
    <div class="post-section mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
      <div class="mdl-color-text--grey-500">
      May 12, 2007 •  
      </div>
      <h3>Installing the Netgear WG511v2 (China) Wireless Card on Linux</h3>
      <article class="post-content">
        <p><p>These instructions are intended to be used to install a Netgear WG511 v2 (China) on a Linux machine that dual boots with Windows. I take no responsibility for anything bad that might happen if you follow this guide (I try to avoid responsibility at every turn).</p>

<h3 id="pre-requisites">PRE-REQUISITES</h3>

<ul>
  <li>Your machine must be a dual boot system</li>
  <li>You must have the wireless card installed and functioning on Windows</li>
  <li>The Windows partition on which you installed the wireless card already must be accessible to the Linux system (my Windows partion had the FAT32 filesystem which made this easy). If not you will first have to find a tutorial that covers this. A quick google on this topic should help. It will require you to update your /etc/fstab file. Here’s an article on this file http://www.tuxfiles.org/linuxhelp/fstab.html but as I said googling around might find you even easier tutorials on this.</li>
</ul>

<h3 id="additional-notes">ADDITIONAL NOTES</h3>

<ul>
  <li>
    <p>I performed this on an IBM T22 running Ubuntu Linux 5.10 ‘Breezy Badger’ and also on OpenSuse 10.2. Windows 2000 was also installed as part of my dual boot system.</p>
  </li>
  <li>
    <p>As I did this on Ubuntu I used sudo instead of logging in as root. That’s what the rest of this guide assumes. On OpenSuse, I used su from the command line in order to become the root user. Depending on your distro you may have to log in as root if it doesn’t support sudo.</p>
  </li>
</ul>

<h3 id="instructions">INSTRUCTIONS</h3>
<ul>
  <li>Ensure that the wireless driver is installed and working on Windows</li>
  <li>Shutdown and remove your wireless card from it’s PCMCIA slot (I’m not sure if this step is needed)</li>
  <li>Boot into your Linux distro</li>
  <li>Install the ndiswrapper packages</li>
  <li>
    <p>From the command prompt (whilst still logged into Linux), search for the driver on the windows partition (storing the results in a file for easy viewing). For example (your path to Windows will probably be different)</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>find /mnt/windisk/ -iname '*.inf'&gt;inf_files_on_windows.txt
</code></pre>
    </div>
  </li>
  <li>
    <p>Open inf_files_on_windows.txt in your favourite editor and look for the matching driver. It should be something like WG511v2.INF (this may vary on your system). Do some searches on ‘WG’ or on ‘511’ to track it down. Note: You will need the full path to this file for the next step</p>
  </li>
  <li>
    <p>From the command line type (but make sure the path matches the one you found in the previous step and remember to use the FULL path)</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>sudo ndiswrapper -i /mnt/windisk/winnt/inf/WG511v2/WG511v2.INF
</code></pre>
    </div>
  </li>
  <li>
    <p>N.N.B. Sorry to labour the point but remember you need to reference the ORIGINAL driver file on your windows partion; you can’t copy it over to your Linux partion and reference it from there (I tried!). This is at the heart of the ‘dual boot’ system requirement (perhaps you know a way around this - I’m not terribly clever at this sort of thing!)</p>
  </li>
  <li>
    <p>Type the following command to see if your installation was successful</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>sudo ndiswrapper -l
</code></pre>
    </div>

    <p>A message like this indicates success</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>Installed ndis drivers:
wg511v2 driver present
</code></pre>
    </div>

    <p>A message like this indicates failure (sorry!)
    Installed ndis drivers:
    wg511v2 invalid driver!</p>
  </li>
  <li>
    <p>I really hope the last step worked. If not you’ll have to re-google and try another solution (double check that you’ve followed this guide correctly first). If so, plug your wireless card into the PCMCIA slot. Then type ‘sudo ndiswrapper -l’ again. You should get</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>Installed ndis drivers:
wg511v2 driver present, hardware present
</code></pre>
    </div>
  </li>
  <li>
    <p>I can remember the excitment when I saw the above line. Share the fun! The rest of this should be a doddle (but don’t count your chickens!)</p>
  </li>
  <li>
    <p>Load the ndiswrapper module into the kernel using</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>sudo modprobe ndiswrapper
</code></pre>
    </div>
  </li>
  <li>
    <p>To see that this worked (the green LED on your card should now have flicked into life) run the command ‘dmesg’ and you should get some info on how your wireless card has been installed, for example</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>ndiswrapper version 1.1 loaded (preempt=no,smp=no)
ndiswrapper: driver wg511v2 (NETGEAR,02/22/2005,3.1.1.7) loaded[4296766.069000] PCI: Enabling device 0000:22:00.0 (0000 -&gt; 0002)
ACPI: PCI Interrupt 0000:02:02.0[A] -&gt; Link [LNKA] -&gt; GSI 11 (level, low) -&gt; IRQ 12
PCI: Setting latency timer of device 0002:02:00.0 to 64
ndiswrapper: using irq 12
wlan0: ndiswrapper ethernet device 01:0f:b5:8e:4e:2d using driver wg511v2, configuration file 11AB:1FAA:2385:4E00.5.conf
wlan0: encryption modes supported: WEP, WPA with TKIP, WPA with AES/CCMP
</code></pre>
    </div>
  </li>
  <li>
    <p>From the above output I can now tell that my card has been assigned to the ‘wlan0’ interface. Yours may differ.</p>
  </li>
  <li>
    <p>Your card is now ready for use. You can use the ‘iwlist’ command to scan for connections. For example (replace ‘wlan0’ with the interface that your card in the dmesg output above),</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>iwlist wlan0 scan
</code></pre>
    </div>
  </li>
  <li>
    <p>One final thing, set the ‘sudo modprobe ndiswrapper’ command to be run on each boot (how you do this will depend on your disto). Otherwise, you’d have to run this command each time you log in.</p>
  </li>
  <li>
    <p>I actually haven’t used my wireless card yet (in fact, I’m just writing this article 10 seconds after completing these steps I’m describing!) but apparently Pawel Nawrocki’s Wireless Assistant is a great tool. So says Linux Format at http://www.linuxjournal.com/article/8398 which might have a link to it</p>
  </li>
  <li>Happy networking. Why don’t you go and listen to the following <a href="http://www.gnu.org/music/free-software-song.html">Free Software Song</a> to top off the perfect day.</li>
</ul>

<h3 id="one-final-note">One final note</h3>

<p>I was never able to connect to networks protected by the basic encryption WEP but had no problems connecting to networks using the more more secure encryption WPA. This could just be me…</p>

</p>
      </article>
      <!-- Disqus comments -->
      
      <div>
        <h3>Comments</h3>
        <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'theirishpenguin';
        var disqus_developer = 0; // developer mode is on
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>

      </div>
      
    </div>
  </div>
</main>

    <footer class="mdl-mega-footer">
  <div class="mdl-mega-footer--middle-section">

    <div class="mdl-mega-footer--drop-down-section">
      <input class="mdl-mega-footer--heading-checkbox" type="checkbox" checked>
      <h1 class="mdl-mega-footer--heading">INFO</h1>
      <ul class="mdl-mega-footer--link-list">
        <li><a href="mailto:"></a></li>
        <li><a href="/feed.xml">subscribe via RSS</a></li>
      </ul>
    </div>

    <div class="mdl-mega-footer--drop-down-section">
      <input class="mdl-mega-footer--heading-checkbox" type="checkbox" checked>
      <h1 class="mdl-mega-footer--heading">SOCIAL</h1>
      <ul class="mdl-mega-footer--link-list">
        
        <li>
          <a href="https://github.com/theirishpenguin">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">theirishpenguin</span>
          </a>
        </li>
        
        
        <li>
          <a href="https://twitter.com/theirishpenguin">
            <span class="icon  icon--twitter">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
              </svg>
            </span>

            <span class="username">theirishpenguin</span>
          </a>
        </li>
      
	  
      
	  
	  
      </ul>
    </div>

    <div class="mdl-mega-footer--drop-down-section">
      <input class="mdl-mega-footer--heading-checkbox" type="checkbox" checked>
      <h1 class="mdl-mega-footer--heading">ABOUT</h1>
      <ul class="mdl-mega-footer--link-list">
        <li>Ruby/JS dev. One eye on design. Occasionally stops writing code and starts writing words when the Internet is down. Thoughts and opinions expressed here are my own.
</li>
      </ul>
    </div>


  </div>

  <!-- Penguin: Disabling for now
  <div class="mdl-mega-footer--bottom-section">
    <div class="mdl-logo">The Irish Penguin</div>
    <ul class="mdl-mega-footer--link-list">
      <li><a href="#">Help</a></li>
      <li><a href="#">Privacy & Terms</a></li>
    </ul>
    -->
  </div>

</footer>


    </div>
    <!-- /End Layout -->

    <!-- Material Design Lite js Library -->
    <script type="text/javascript" src="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.min.js"></script>
    
    <script rel="javascript" type="text/javascript" src="/js/search.js"></script>
    <script rel="javascript" type="text/javascript">
      superSearch({
        searchFile: '/feed.xml',
        searchSelector: '#js-search', // CSS Selector for search container element.
        inputSelector: '#js-search__input', // CSS selector for <input>
        resultsSelector: '#js-search__results' // CSS selector for results container
      });
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-34423825-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

        gtag('config', 'UA-34423825-1');
</script>


  </body>

</html>
